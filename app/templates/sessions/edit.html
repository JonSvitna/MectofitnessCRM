{% extends "base.html" %}

{% block title %}Edit Session - MectoFitness CRM{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/gym-pro-theme.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <div>
            <h1 class="page-title">Edit Session</h1>
            <p class="page-subtitle">Update session details and status</p>
        </div>
    </div>
    
    <div class="card">
        <div class="card-body">
            <form method="POST">
                <div class="form-group">
                    <label for="title">Session Title *</label>
                    <input type="text" id="title" name="title" class="form-control" value="{{ session.title }}" required>
                </div>
                
                <div class="form-group">
                    <label for="session_type">Session Type</label>
                    <select id="session_type" name="session_type" class="form-control">
                        <option value="personal" {% if session.session_type == 'personal' %}selected{% endif %}>Personal Training</option>
                        <option value="group" {% if session.session_type == 'group' %}selected{% endif %}>Group Class</option>
                        <option value="online" {% if session.session_type == 'online' %}selected{% endif %}>Online Session</option>
                        <option value="assessment" {% if session.session_type == 'assessment' %}selected{% endif %}>Assessment</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="scheduled_start">Start Date & Time *</label>
                    <input type="datetime-local" id="scheduled_start" name="scheduled_start" class="form-control" value="{{ session.scheduled_start.strftime('%Y-%m-%dT%H:%M') }}" required>
                </div>
                
                <div class="form-group">
                    <label for="scheduled_end">End Date & Time *</label>
                    <input type="datetime-local" id="scheduled_end" name="scheduled_end" class="form-control" value="{{ session.scheduled_end.strftime('%Y-%m-%dT%H:%M') }}" required>
                </div>
                
                <div class="form-group">
                    <label for="location">Location</label>
                    <input type="text" id="location" name="location" class="form-control" value="{{ session.location or '' }}">
                </div>
                
                <div class="form-group">
                    <label for="status">Status</label>
                    <select id="status" name="status" class="form-control">
                        <option value="scheduled" {% if session.status == 'scheduled' %}selected{% endif %}>Scheduled</option>
                        <option value="completed" {% if session.status == 'completed' %}selected{% endif %}>Completed</option>
                        <option value="cancelled" {% if session.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
                        <option value="no-show" {% if session.status == 'no-show' %}selected{% endif %}>No-show</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="notes">Notes</label>
                    <textarea id="notes" name="notes" class="form-control">{{ session.notes or '' }}</textarea>
                </div>
                
                <div class="action-buttons">
                    <button type="submit" class="btn btn-primary">Update Session</button>
                    <a href="{{ url_for('sessions.view_session', session_id=session.id) }}" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
